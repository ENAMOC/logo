<!DOCTYPE html>
<html>
<head>
    <title>C++ Online Compiler (JDoodle API)</title>
</head>
<body>
    <h2>C++ Online Compiler (JDoodle)</h2>
    <textarea id="code" rows="15" cols="70">
// Example C++ Code
#include<iostream>
using namespace std;

int main() {
    cout << "Hello from JDoodle!" << endl;
    return 0;
}
    </textarea><br><br>
    <button onclick="runCode()">Run Code</button>
    <pre id="output"></pre>

    <script>
        async function runCode() {
            const code = document.getElementById('code').value;

            const payload = {
                clientId: "41d789b055e5b8dbaa2fe6f6606ffa23",
                clientSecret: "8bd35c40371328eed108fce2ef777246cd37b136a2cfc1b84652591cb17c75c3",
                script: code,
                language: "cpp17",
                versionIndex: "0"
            };

            const response = await fetch("https://api.jdoodle.com/v1/execute", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(payload)
            });

            const result = await response.json();
            document.getElementById("output").textContent = result.output || result.error || "Unknown error";
        }
    </script>
</body>
</html>
